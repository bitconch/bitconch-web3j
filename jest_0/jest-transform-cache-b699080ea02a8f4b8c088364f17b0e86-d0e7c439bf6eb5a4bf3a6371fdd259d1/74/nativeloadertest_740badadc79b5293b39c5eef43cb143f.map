{"version":3,"sources":["native-loader.test.js"],"names":["mockRpcEnabled","jest","setTimeout","test","console","log","connection","Connection","url","from","NativeControllerLoader","load","controllerId","transaction","Transaction","add","keys","pubkey","pubKey","isSigner","isDebitable"],"mappings":";;;;;;;;AAEA;;AAMA;;AACA;;AACA;;AAEA,IAAI,CAACA,yBAAL,EAAqB;AACnB;AACAC,EAAAA,IAAI,CAACC,UAAL,CAAgB,KAAhB;AACD;;AAEDC,IAAI,CAAC,wBAAD;AAAA;AAAA;AAAA;AAAA,6BAA2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACzBH,yBADyB;AAAA;AAAA;AAAA;;AAE3BI,UAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AAF2B;;AAAA;AAMvBC,UAAAA,UANuB,GAMV,IAAIC,eAAJ,CAAeC,QAAf,CANU;AAAA;AAAA,iBAOV,0CAAkBF,UAAlB,EAA8B,IAA9B,CAPU;;AAAA;AAOvBG,UAAAA,IAPuB;AAAA;AAAA,iBAQFC,4BAAuBC,IAAvB,CACzBL,UADyB,EAEzBG,IAFyB,EAGzB,uBAHyB,CARE;;AAAA;AAQvBG,UAAAA,YARuB;AAavBC,UAAAA,WAbuB,GAaT,IAAIC,gBAAJ,GAAkBC,GAAlB,CAAsB;AACxCC,YAAAA,IAAI,EAAE,CAAC;AAACC,cAAAA,MAAM,EAAER,IAAI,CAACS,MAAd;AAAsBC,cAAAA,QAAQ,EAAE,IAAhC;AAAsCC,cAAAA,WAAW,EAAE;AAAnD,aAAD,CADkC;AAExCR,YAAAA,YAAY,EAAZA;AAFwC,WAAtB,CAbS;AAAA;AAAA,iBAkBvB,yBAAeN,UAAf,EAA2BO,WAA3B,EAAwCJ,IAAxC,CAlBuB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA3B,GAAJ","sourcesContent":["// @flow\n\nimport {\n  Connection,\n  NativeControllerLoader,\n  Transaction,\n  sendAndconfmTx,\n} from '../src';\nimport {mockRpcEnabled} from './__mocks__/node-fetch';\nimport {url} from './url';\nimport {newAccountWithDif} from './new-account-with-dif';\n\nif (!mockRpcEnabled) {\n  // The default of 5 seconds is too slow for live testing sometimes\n  jest.setTimeout(15000);\n}\n\ntest('load native controller', async () => {\n  if (mockRpcEnabled) {\n    console.log('non-live test skipped');\n    return;\n  }\n\n  const connection = new Connection(url);\n  const from = await newAccountWithDif(connection, 1024);\n  const controllerId = await NativeControllerLoader.load(\n    connection,\n    from,\n    'bitconch_noop_program',\n  );\n  const transaction = new Transaction().add({\n    keys: [{pubkey: from.pubKey, isSigner: true, isDebitable: true}],\n    controllerId,\n  });\n\n  await sendAndconfmTx(connection, transaction, from);\n});\n"]}