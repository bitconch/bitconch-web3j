{"version":3,"sources":["native-loader.test.js"],"names":["mockRpcEnabled","jest","setTimeout","test","console","log","connection","Connection","url","from","NativeControllerLoader","load","controllerId","transaction","Transaction","add","keys","pubkey","pubKey","isSigner","isDebitable"],"mappings":";;;;;;;;AAEA;;AAMA;;AACA;;AACA;;AAEA,IAAI,CAACA,yBAAL,EAAqB;AACnB;AACAC,EAAAA,IAAI,CAACC,UAAL,CAAgB,KAAhB;AACD;;AAEDC,IAAI,CAAC,qBAAD;AAAA;AAAA;AAAA;AAAA,6BAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACtBH,yBADsB;AAAA;AAAA;AAAA;;AAExBI,UAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AAFwB;;AAAA;AAMpBC,UAAAA,UANoB,GAMP,IAAIC,eAAJ,CAAeC,QAAf,CANO;AAAA;AAAA,iBAOP,4CAAmBF,UAAnB,EAA+B,IAA/B,CAPO;;AAAA;AAOpBG,UAAAA,IAPoB;AAAA;AAAA,iBAQCC,4BAAuBC,IAAvB,CACzBL,UADyB,EAEzBG,IAFyB,EAGzB,qBAHyB,CARD;;AAAA;AAQpBG,UAAAA,YARoB;AAapBC,UAAAA,WAboB,GAaN,IAAIC,gBAAJ,GAAkBC,GAAlB,CAAsB;AACxCC,YAAAA,IAAI,EAAE,CAAC;AAACC,cAAAA,MAAM,EAAER,IAAI,CAACS,MAAd;AAAsBC,cAAAA,QAAQ,EAAE,IAAhC;AAAsCC,cAAAA,WAAW,EAAE;AAAnD,aAAD,CADkC;AAExCR,YAAAA,YAAY,EAAZA;AAFwC,WAAtB,CAbM;AAAA;AAAA,iBAkBpB,yBAAeN,UAAf,EAA2BO,WAA3B,EAAwCJ,IAAxC,CAlBoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAxB,GAAJ","sourcesContent":["// @flow\n\nimport {\n  Connection,\n  NativeControllerLoader,\n  Transaction,\n  sendAndconfmTx,\n} from '../src';\nimport {mockRpcEnabled} from './__mocks__/node-fetch';\nimport {url} from './url';\nimport {newAccountWithDifs} from './new-account-with-difs';\n\nif (!mockRpcEnabled) {\n  // The default of 5 seconds is too slow for live testing sometimes\n  jest.setTimeout(15000);\n}\n\ntest('load native program', async () => {\n  if (mockRpcEnabled) {\n    console.log('non-live test skipped');\n    return;\n  }\n\n  const connection = new Connection(url);\n  const from = await newAccountWithDifs(connection, 1024);\n  const controllerId = await NativeControllerLoader.load(\n    connection,\n    from,\n    'solana_noop_program',\n  );\n  const transaction = new Transaction().add({\n    keys: [{pubkey: from.pubKey, isSigner: true, isDebitable: true}],\n    controllerId,\n  });\n\n  await sendAndconfmTx(connection, transaction, from);\n});\n"]}